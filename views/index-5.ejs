<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Medium: Post Blog.</title>
    <link rel="stylesheet" href="/output.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <!-- component -->
    <nav
      class="bg-white w-full flex relative justify-between items-center mx-auto px-8 h-20"
    >
      <!-- logo -->
      <div class="inline-flex">
        <a class="_o6689fn" href="#">
          <div class="hidden md:block">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Medium_logo_Wordmark_Black.svg/380px-Medium_logo_Wordmark_Black.svg.png?20170829134410"
              alt="Logo"
              width="122"
              height="32"
              style="display: block"
            />
          </div>
          <div class="block md:hidden">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Medium_logo_Wordmark_Black.svg/380px-Medium_logo_Wordmark_Black.svg.png?20170829134410"
              alt="Logo"
              width="120"
              height="32"
              style="display: block"
            />
          </div>
        </a>
      </div>

      <!-- search bar -->
      <div class="hidden sm:block flex-shrink flex-grow-0 justify-start px-2">
        <div class="inline-block">
          <div class="inline-flex items-center max-w-full">
            <div
              class="flex items-center flex-grow-0 flex-shrink pl-2 relative w-60 border rounded-full px-1 py-1"
            >
              <input
                type="text"
                placeholder="Search"
                class="block flex-grow flex-shrink overflow-hidden outline-none bg-transparent w-full pl-2"
              />
              <div
                class="flex items-center justify-center relative h-8 w-8 rounded-full"
              >
                <button type="submit" class="flex items-center justify-center">
                  <svg
                    viewBox="0 0 32 32"
                    xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true"
                    role="presentation"
                    focusable="false"
                    style="
                      display: block;
                      fill: none;
                      height: 12px;
                      width: 12px;
                      stroke: currentcolor;
                      stroke-width: 5.33333;
                      overflow: visible;
                    "
                  >
                    <g fill="none">
                      <path
                        d="m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9"
                      ></path>
                    </g>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- login -->
      <div class="flex-initial">
        <div class="flex justify-end items-center relative">
          <div class="flex mr-4 items-center">
            <a class="inline-block py-2 px-3" href="/upload">
              <div
                class="flex items-center relative cursor-pointer whitespace-nowrap bg-black text-white px-3 py-1 rounded"
              >
                Write
              </div>
            </a>
          </div>
          <div class="block">
            <div class="inline relative">
              <a
                class="inline-flex items-center relative px-2 border rounded-full hover:shadow-lg"
                href="/dashboard"
              >
                <div class="pl-1">
                  <svg
                    viewBox="0 0 32 32"
                    xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true"
                    role="presentation"
                    focusable="false"
                    style="
                      display: block;
                      fill: none;
                      height: 16px;
                      width: 16px;
                      stroke: currentcolor;
                      stroke-width: 3;
                      overflow: visible;
                    "
                  >
                    <g fill="none" fill-rule="nonzero">
                      <path d="m2 16h28"></path>
                      <path d="m2 24h28"></path>
                      <path d="m2 8h28"></path>
                    </g>
                  </svg>
                </div>
                <div class="block flex-grow-0 flex-shrink-0 h-10 w-12 pl-5">
                  <svg
                    viewBox="0 0 32 32"
                    xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true"
                    role="presentation"
                    focusable="false"
                    style="
                      display: block;
                      height: 100%;
                      width: 100%;
                      fill: currentcolor;
                    "
                  >
                    <path
                      d="m16 .7c-8.437 0-15.3 6.863-15.3 15.3s6.863 15.3 15.3 15.3 15.3-6.863 15.3-15.3-6.863-15.3-15.3-15.3zm0 28c-4.021 0-7.605-1.884-9.933-4.81a12.425 12.425 0 0 1 6.451-4.4 6.507 6.507 0 0 1 -3.018-5.49c0-3.584 2.916-6.5 6.5-6.5s6.5 2.916 6.5 6.5a6.513 6.513 0 0 1 -3.019 5.491 12.42 12.42 0 0 1 6.452 4.4c-2.328 2.925-5.912 4.809-9.933 4.809z"
                    ></path>
                  </svg>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <hr class="my-6 border-t border-gray-300 mx-5" />

    <!--Upload Section Starts-->
    <section class="py-14 md:py-24 bg-gray-50">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white rounded-2xl shadow-sm p-8">
          <!-- Header -->
          <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900">Create Your Story</h1>
            <p class="mt-2 text-gray-600">Share your thoughts with the world</p>
          </div>

          <form
            action="/blog"
            method="POST"
            enctype="multipart/form-data"
            class="space-y-8"
            id="blogForm"
          >
            <!-- Image Upload -->
            <div class="space-y-2">
              <label class="block text-sm font-medium text-gray-700">
                Cover Image
                <span class="text-red-500">*</span>
                <span class="text-xs text-gray-500 ml-1">(required)</span>
              </label>
              <div
                class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl transition-colors"
                id="dropZone"
              >
                <div class="space-y-1 text-center">
                  <div id="imagePreview" class="hidden mb-4">
                    <img src="" alt="Preview" class="mx-auto h-32 w-auto" />
                  </div>
                  <svg
                    class="mx-auto h-12 w-12 text-gray-400"
                    stroke="currentColor"
                    fill="none"
                    viewBox="0 0 48 48"
                  >
                    <path
                      d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <div class="flex text-sm text-gray-600">
                    <label
                      class="relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500"
                    >
                      <span>Upload a file</span>
                      <input
                        type="file"
                        name="image"
                        class="sr-only"
                        accept="image/*"
                        id="imageInput"
                        required
                      />
                    </label>
                    <p class="pl-1">or drag and drop</p>
                  </div>
                  <p class="text-xs text-gray-500" id="fileInfo">
                    PNG, JPG, GIF up to 5MB
                  </p>
                  <div id="imageError" class="text-sm text-red-500 hidden mt-2">
                    Please select an image for your story
                  </div>
                </div>
              </div>
            </div>

            <!-- Category Selection -->
            <div class="space-y-2">
              <label class="block text-sm font-medium text-gray-700"
                >Category</label
              >
              <select
                name="type"
                required
                class="mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-xl"
              >
                <option value="" disabled selected>Select a category</option>
                <option value="Tech & Gadgets">Tech & Gadgets</option>
                <option value="Fashion & Beauty">Fashion & Beauty</option>
                <option value="News">News</option>
                <option value="Food & Recipes">Food & Recipes</option>
                <option value="Lifestyle">Lifestyle</option>
                <option value="Programming">Programming</option>
                <option value="Data Science">Data Science</option>
              </select>
            </div>

            <!-- Title Input -->
            <div class="space-y-2">
              <label class="block text-sm font-medium text-gray-700"
                >Title</label
              >
              <input
                type="text"
                name="title"
                required
                class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                placeholder="Give your story a great title"
              />
            </div>

            <!-- Snippet Input -->
            <div class="space-y-2">
              <label class="block text-sm font-medium text-gray-700"
                >Short Description</label
              >
              <textarea
                name="snippet"
                required
                rows="2"
                class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                placeholder="Write a brief introduction (max 150 characters)"
                maxlength="150"
              ></textarea>
            </div>

            <!-- Content Input -->
            <div class="space-y-2">
              <label class="block text-sm font-medium text-gray-700">
                Content
                <span class="ml-2 text-gray-500" id="wordCount">0 words</span>
                <span class="text-xs text-gray-500"
                  >(300-500 words required)</span
                >
              </label>
              <textarea
                name="body"
                required
                rows="12"
                id="contentInput"
                class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                placeholder="Tell your story..."
              ></textarea>
              <div class="text-sm text-red-500 hidden" id="wordCountError">
                Your story must be between 300 and 500 words.
              </div>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-end">
              <button
                type="submit"
                id="submitButton"
                disabled
                class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"
              >
                Publish Story
                <svg
                  class="ml-2 -mr-1 h-5 w-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M14 5l7 7m0 0l-7 7m7-7H3"
                  />
                </svg>
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const contentInput = document.getElementById("contentInput");
        const wordCount = document.getElementById("wordCount");
        const wordCountError = document.getElementById("wordCountError");
        const submitButton = document.getElementById("submitButton");
        const imageInput = document.getElementById("imageInput");
        const imagePreview = document.getElementById("imagePreview");
        const fileInfo = document.getElementById("fileInfo");
        const form = document.getElementById("blogForm");
        const dropZone = document.getElementById("dropZone");
        const imageError = document.getElementById("imageError");

        // Word count validation
        function updateWordCount() {
          const words = contentInput.value
            .trim()
            .split(/\s+/)
            .filter((word) => word.length > 0);
          const count = words.length;
          wordCount.textContent = `${count} words`;

          // Validate word count
          if (count < 300 || count > 500) {
            wordCountError.classList.remove("hidden");
            submitButton.disabled = true;
          } else {
            wordCountError.classList.add("hidden");
            submitButton.disabled = false;
          }
        }

        contentInput.addEventListener("input", updateWordCount);

        // Add validation styles
        function updateImageValidation(isValid) {
          if (!isValid) {
            dropZone.classList.add("border-red-300", "bg-red-50");
            dropZone.classList.remove(
              "border-gray-300",
              "border-indigo-500",
              "bg-indigo-50"
            );
            imageError.classList.remove("hidden");
          } else {
            dropZone.classList.remove("border-red-300", "bg-red-50");
            dropZone.classList.add("border-gray-300");
            imageError.classList.add("hidden");
          }
        }

        // Update image preview handling
        imageInput.addEventListener("change", function (e) {
          const file = e.target.files[0];
          if (file) {
            if (!file.type.startsWith("image/")) {
              updateImageValidation(false);
              imageError.textContent = "Please select a valid image file";
              this.value = ""; // Clear the input
              return;
            }

            if (file.size > 5 * 1024 * 1024) {
              // 5MB
              updateImageValidation(false);
              imageError.textContent = "Image size should be less than 5MB";
              this.value = ""; // Clear the input
              return;
            }

            const reader = new FileReader();
            reader.onload = function (e) {
              const img = imagePreview.querySelector("img");
              img.src = e.target.result;
              imagePreview.classList.remove("hidden");
              fileInfo.textContent = `Selected: ${file.name}`;
              updateImageValidation(true);
            };
            reader.readAsDataURL(file);
          }
        });

        // Update form submission
        form.addEventListener("submit", function (e) {
          const hasImage = imageInput.files.length > 0;
          const words = contentInput.value
            .trim()
            .split(/\s+/)
            .filter((word) => word.length > 0);
          let isValid = true;

          // Validate word count
          if (words.length < 300 || words.length > 500) {
            wordCountError.classList.remove("hidden");
            isValid = false;
          }

          // Validate image
          if (!hasImage) {
            updateImageValidation(false);
            isValid = false;
          }

          if (!isValid) {
            e.preventDefault();
            // Scroll to the first error
            const firstError = document.querySelector(
              ".text-red-500:not(.hidden)"
            );
            if (firstError) {
              firstError.scrollIntoView({
                behavior: "smooth",
                block: "center",
              });
            }
          }
        });

        // Update drag and drop handling
        dropZone.addEventListener("dragover", (e) => {
          e.preventDefault();
          if (!dropZone.classList.contains("border-red-300")) {
            dropZone.classList.add("border-indigo-500", "bg-indigo-50");
          }
        });

        dropZone.addEventListener("dragleave", () => {
          if (!dropZone.classList.contains("border-red-300")) {
            dropZone.classList.remove("border-indigo-500", "bg-indigo-50");
          }
        });

        dropZone.addEventListener("drop", (e) => {
          e.preventDefault();
          dropZone.classList.remove("border-indigo-500", "bg-indigo-50");

          const file = e.dataTransfer.files[0];
          if (file) {
            if (!file.type.startsWith("image/")) {
              updateImageValidation(false);
              imageError.textContent = "Please select a valid image file";
              return;
            }

            if (file.size > 5 * 1024 * 1024) {
              updateImageValidation(false);
              imageError.textContent = "Image size should be less than 5MB";
              return;
            }

            imageInput.files = e.dataTransfer.files;
            const event = new Event("change");
            imageInput.dispatchEvent(event);
          }
        });
      });
    </script>

    <!-- Footer Section -->
    <footer class="bg-black pb-5">
      <div class="max-w-screen-xl px-4 pt-8 mx-auto sm:px-6 lg:px-8">
        <div class="sm:flex sm:items-center sm:justify-between">
          <!-- Logo Section -->
          <a
            class="flex justify-center text-teal-300 sm:justify-start"
            href="/dashboard"
          >
            <img
              class="rounded-full"
              src="https://upload.wikimedia.org/wikipedia/commons/e/ec/Medium_logo_Monogram.svg"
              width="40"
              height="40"
              alt="Logo"
            />
          </a>

          <!-- Links Section -->
          <p
            class="mt-4 text-sm text-center text-gray-400 lg:text-right lg:mt-0"
          >
            <a href="/dashboard" class="text-gray-400 hover:text-white">T&C</a>
            &nbsp;
            <a href="/dashboard" class="text-gray-400 hover:text-white"
              >Career</a
            >
            &nbsp;
            <a href="/dashboard" class="text-gray-400 hover:text-white"
              >Privacy & Policy</a
            >
            &nbsp;
            <a href="/dashboard" class="text-gray-400 hover:text-white"
              >Developers</a
            >
          </p>
        </div>
      </div>
    </footer>

    <!--footer end-->
  </body>
</html>
